using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class ClickableCollectableSpawner : MonoBehaviour
{
    [SerializeField] GameObject[] clickableCollectables;
    [SerializeField] float minSpawnDelay = 10f;
    [SerializeField] float maxSpawnDelay = 25f;

    [SerializeField] float minXSpawnLocation = 1f;
    [SerializeField] float maxXSpawnLocation = 10f;
    [SerializeField] float minYSpawnLocation = 7f;
    [SerializeField] float maxYSpawnLocation = 10f;

    float randomSpawnTime = 0f;
    float elapsedTime = 0f;
    Vector3 spawnPos;

    private void Start()
    {
        randomSpawnTime = Random.Range(minSpawnDelay, maxSpawnDelay);
    }

    private void Update()
    {
        elapsedTime += Time.deltaTime;
        if(elapsedTime >= randomSpawnTime)
        {
            SpawnClickableCollectable();
        }
    }

    private void SpawnClickableCollectable()
    {
        spawnPos = new Vector3(Random.Range(minXSpawnLocation, maxXSpawnLocation), Random.Range(minYSpawnLocation, maxYSpawnLocation), 0f);
        //spawnPos = Camera.main.ScreenToWorldPoint(spawnPos);

        GameObject objectToSpawn = clickableCollectables[Random.Range(0, clickableCollectables.Length)];

        Instantiate(objectToSpawn, spawnPos, Quaternion.identity);

        elapsedTime = 0;
        randomSpawnTime = Random.Range(minSpawnDelay, maxSpawnDelay);
    }
}
